@(publicationWithDetails: models.api.PublicationWithEnaStudiesAndSampleCount)

<article class="publication-details">
    <header>
        <h2>@publicationWithDetails.publication.title</h2>
        @publicationWithDetails.publication.authors.map { authors =>
        <p><strong>Authors:</strong>
            @authors</p>
        }.getOrElse(<p>
        <strong>Authors:</strong>
        Not available
        </p>)
    </header>

    @publicationWithDetails.publication.abstractSummary.map { summary =>
        <section>
            <h3>Abstract</h3>
            <p>@summary</p>
        </section>
    }
    @if(publicationWithDetails.enaStudies.nonEmpty) {
        <section>
            <h3>ENA Studies</h3>
            <ul>
            @for(study <- publicationWithDetails.enaStudies) {
                <li><code>@study.accession</code> - @study.title</li>
            }
            </ul>
        </section>
    }

    @if(publicationWithDetails.sampleCount >= 0) {
        <aside>
            <p><strong>Sample Count:</strong> <span class="sample-count">@publicationWithDetails.sampleCount</span></p>
            <div id="biosample-report-container">
                <button hx-get="@routes.BiosampleReportController.getBiosampleReportHTML(publicationWithDetails.publication.id.getOrElse(0))"
                hx-target="#biosample-report-container"
                hx-trigger="click"
                class="load-biosamples">
                    Load Biosample Details
                </button>
            </div>
        </aside>
    }
    @publicationWithDetails.publication.doi.map { doi =>
        <footer>
            <p><small>DOI: <a href="https://doi.org/@doi" target="_blank" rel="noopener noreferrer">@doi</a></small></p>
        </footer>
    }
</article>